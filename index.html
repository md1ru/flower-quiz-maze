<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ëœë¤ ë¯¸ë¡œ í€´ì¦ˆ ì°¾ê¸° (ë§Œ 5ì„¸ ë§ì¶¤)</title>
    <style>
        body { font-family: 'Malgun Gothic', 'Dotum', sans-serif; display: flex; flex-direction: column; align-items: center; background-color: #e8f5e9; padding: 20px; }
        h1 { color: #388e3c; margin-bottom: 10px; }
        .game-info { color: #555; margin-bottom: 20px; font-size: 14px; }
        
        /* ë¯¸ë¡œ ìŠ¤íƒ€ì¼: ì´ˆë¡ìƒ‰ í’€ìˆ² */
        #maze-grid {
            display: grid;
            grid-template-columns: repeat(5, 60px); /* 5x5 ë¯¸ë¡œ */
            grid-template-rows: repeat(5, 60px);
            border: 4px solid #388e3c;
            background-color: #81c784; /* í’€ë°­ ìƒ‰ */
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .cell {
            width: 60px;
            height: 60px;
            background-color: #81c784;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 30px;
            cursor: default;
            border: 1px solid #66bb6a;
        }
        .path { background-color: #a5d6a7; } /* ì›€ì§ì¼ ìˆ˜ ìˆëŠ” ê¸¸ */
        .wall { background-color: #4caf50; } /* ë²½ */
        
        /* íŠ¹ìˆ˜ ì¹¸ */
        .start { background-color: #ffe082; }
        .goal { background-color: #ff8a65; }
        .visited { background-color: #c8e6c9; } /* ì§€ë‚˜ì˜¨ ê¸¸ (ìƒ‰ê¹”ë¡œ í‘œì‹œ) */
        
        /* ìºë¦­í„° (ê½ƒì„ ë“  ì†Œë…€) */
        .player { font-size: 40px; } /* ê½ƒì„ ë“  ì†Œë…€ ëª¨ì–‘: ğŸ‘§ğŸ»ğŸ’ */
        
        /* í€´ì¦ˆ ì°½ */
        #quiz-overlay {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 10;
        }
        .quiz-box {
            background-color: #fff;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            width: 80%;
            max-width: 400px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            border: 5px solid #ffab91;
        }
        .quiz-box h3 { color: #e57373; margin-top: 0; }
        .quiz-box button {
            padding: 10px 20px;
            margin: 10px;
            font-size: 18px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            transition: background-color 0.2s;
        }
        #btn-o { background-color: #42a5f5; color: white; }
        #btn-x { background-color: #ef5350; color: white; }
        #btn-o:hover { background-color: #2196f3; }
        #btn-x:hover { background-color: #e53935; }
        
        /* ìŠ¹ë¦¬ ì°½ */
        #win-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 20;
        }
        #win-overlay h2 { color: #f9a825; font-size: 40px; }
        #win-overlay p { font-size: 20px; color: #388e3c; }
        #reset-button {
            padding: 10px 20px;
            font-size: 18px;
            margin-top: 20px;
            background-color: #388e3c;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        #reset-button:hover {
            background-color: #2e7d32;
        }
    </style>
</head>
<body onload="initGame()">

    <h1>ğŸŒ¹ ê½ƒì„ ë“  ì†Œë…€ì˜ í€´ì¦ˆ ë¯¸ë¡œ ì°¾ê¸° ğŸŒ·</h1>
    <div class="game-info">
        í‚¤ë³´ë“œì˜ í™”ì‚´í‘œ (â†‘ â†“ â† â†’) í‚¤ë¥¼ ëˆŒëŸ¬ ì†Œë…€ë¥¼ ì›€ì§ì—¬ë³´ì„¸ìš”! (ë‹¤ìŒ í€´ì¦ˆ ìˆœì„œ: <span id="quiz-count">1</span> / 20)
    </div>
    
    <div id="maze-grid">
        </div>

    <div id="quiz-overlay">
        <div class="quiz-box">
            <h3>ë¯¸ì…˜! ì´ ê¸¸ì„ ì§€ë‚˜ë ¤ë©´ ë¬¸ì œë¥¼ í’€ì–´ì•¼ í•´ìš”! (í€´ì¦ˆ <span id="quiz-num"></span>)</h3>
            <p id="quiz-text"></p>
            <p id="quiz-answer-status" style="color: red;"></p>
            <button id="btn-o">O</button>
            <button id="btn-x">X</button>
        </div>
    </div>

    <div id="win-overlay">
        <h2>ğŸ‰ ì„±ê³µ! í• ë¨¸ë‹ˆë¥¼ ë§Œë‚¬ì–´ìš”! ğŸ‰</h2>
        <p>ìš°ë¦¬ ì†Œë…€ê°€ í• ë¨¸ë‹ˆì—ê²Œ ì˜ˆìœ ê½ƒì„ ì„ ë¬¼í–ˆìŠµë‹ˆë‹¤!</p>
        <div style="font-size: 80px;">ğŸ‘µğŸ»ğŸ’ğŸ‘§ğŸ»</div>
        <button id="reset-button" onclick="resetGame()">ìƒˆë¡œìš´ ë¯¸ë¡œ ì‹œì‘í•˜ê¸°</button>
    </div>

    <script>
        // ----------------------------------------------------
        // 1. í€´ì¦ˆ ë°ì´í„°: ë§Œ 5ì„¸ ìˆ˜ì¤€ì˜ ê½ƒê³¼ ì‹ë¬¼ ê´€ë ¨ O/X í€´ì¦ˆ 20ê°œ
        // ----------------------------------------------------
        const quizzes = [
            { q: "ê½ƒì´ ì‹œë“¤ì§€ ì•Šê²Œ í•˜ë ¤ë©´ ë¬¼ì„ ì¤˜ì•¼ í•œë‹¤.", a: "O" }, // 1
            { q: "í•´ë°”ë¼ê¸°ëŠ” í–‡ë‹˜ì„ ì¢‹ì•„í•´ì„œ í•´ê°€ ìˆëŠ” ê³³ì„ ë”°ë¼ ì›€ì§ì¸ë‹¤.", a: "O" }, // 2
            { q: "ëª¨ë“  ê½ƒì€ ë¹¨ê°„ìƒ‰ì´ë‹¤.", a: "X" }, // 3
            { q: "ë²Œì´ ê½ƒì— ì˜¤ë©´ ê½ƒì€ ì•„í”„ë‹¤.", a: "X" }, // 4
            { q: "ë‚˜ë¬´ëŠ” í’€ë³´ë‹¤ í‚¤ê°€ í›¨ì”¬ í¬ë‹¤.", a: "O" }, // 5
            { q: "ì˜ˆìœ ì¥ë¯¸ê½ƒì˜ ì¤„ê¸°ì—ëŠ” ë¾°ì¡±í•œ ê°€ì‹œê°€ í•˜ë‚˜ë„ ì—†ë‹¤.", a: "X" }, // 6
            { q: "ì”¨ì•—ì„ í™ ì†ì— ë¬»ì–´ì•¼ ì˜ˆìœ ê½ƒì´ ë‚˜ì˜¨ë‹¤.", a: "O" }, // 7
            { q: "ê½ƒì€ ë¹¨ê°„ìƒ‰, ë…¸ë€ìƒ‰, íŒŒë€ìƒ‰ ë“± ì—¬ëŸ¬ ê°€ì§€ ìƒ‰ê¹”ì´ ìˆë‹¤.", a: "O" }, // 8
            { q: "ìì´ ì—†ëŠ” ì‹ë¬¼ë„ ìˆ¨ì„ ì‰´ ìˆ˜ ìˆë‹¤.", a: "X" }, // 9
            { q: "ë¯¼ë“¤ë ˆ í™€ì”¨ëŠ” ë°”ëŒì„ íƒ€ê³  ë©€ë¦¬ë©€ë¦¬ ë‚ ì•„ê°„ë‹¤.", a: "O" }, // 10
            { q: "ìš°ë¦¬ê°€ ë¨¹ëŠ” ë°¥(ìŒ€)ë„ ì‹ë¬¼ì´ í‚¤ìš´ ê³¡ì‹ì´ë‹¤.", a: "O" }, // 11
            { q: "ê·¤ ë‚˜ë¬´ì—ì„œëŠ” ì‚¬ê³¼ê°€ ì—´ë¦°ë‹¤.", a: "X" }, // 12
            { q: "ë¬¼ì„ ë§ì´ ì¤„ìˆ˜ë¡ ê½ƒì€ ë” ë¹¨ë¦¬ ìë€ë‹¤.", a: "X" }, // 13
            { q: "ê½ƒìì˜ ì˜ˆìœ ìƒ‰ê¹”ì€ ë²Œê³¼ ë‚˜ë¹„ë¥¼ ë¶ˆëŸ¬ë“¤ì´ëŠ” ì—­í• ì„ í•œë‹¤.", a: "O" }, // 14
            { q: "ë•… ì†ì—ëŠ” ì‹ë¬¼ì˜ ë¿Œë¦¬ê°€ ìˆ¨ì–´ìˆë‹¤.", a: "O" }, // 15
            { q: "ì”¨ì•—ì„ ì‹¬ì€ ì§€ í•˜ë£¨ ë§Œì— ëª¨ë‘ ì‹¹ì´ ë‹ì•„ë‚œë‹¤.", a: "X" }, // 16
            { q: "íŠ¤ë¦½ì€ ê½ƒë³‘ì— ê½‚ì•„ë„ ê³„ì† í‚¤ê°€ ì¡°ê¸ˆì”© ìë„ ìˆ˜ ìˆë‹¤.", a: "O" }, // 17
            { q: "ë°¤ì´ ë˜ë©´ ì‹ë¬¼ë„ ìš°ë¦¬ì²˜ëŸ¼ ì ì„ ì”ë‹¤.", a: "O" }, // 18
            { q: "ì½”ë¼ë¦¬ëŠ” ê½ƒì„ ì•„ì£¼ ì¢‹ì•„í•´ì„œ ìì£¼ ë¨¹ëŠ”ë‹¤.", a: "X" }, // 19
            { q: "ë¬´ê¶í™”ëŠ” ìš°ë¦¬ë‚˜ë¼ì˜ ê½ƒì´ë‹¤.", a: "O" }  // 20
        ];

        // ----------------------------------------------------
        // 2. ë¯¸ë¡œ êµ¬ì¡° ë° ì´ˆê¸° ì„¤ì •
        // ----------------------------------------------------
        
        const SIZE = 5;
        let MAZE = []; // ë¯¸ë¡œ êµ¬ì¡° (ëœë¤ ìƒì„±)
        let playerPos = { row: 0, col: 0 }; // ì‹œì‘ ìœ„ì¹˜
        let goalPos = { row: SIZE - 1, col: SIZE - 1 }; // ëª©ì ì§€ ìœ„ì¹˜
        let quizIndexCounter = 0; // í˜„ì¬ ìˆœì„œëŒ€ë¡œ ë‚´ì•¼ í•  í€´ì¦ˆ ë²ˆí˜¸
        let pendingMove = null; // í€´ì¦ˆë¥¼ í’€ë©´ ì‹¤í–‰í•  ë‹¤ìŒ ì´ë™

        // DOM ìš”ì†Œ
        const $grid = document.getElementById('maze-grid');
        const $quizOverlay = document.getElementById('quiz-overlay');
        const $quizText = document.getElementById('quiz-text');
        const $quizStatus = document.getElementById('quiz-answer-status');
        const $quizCount = document.getElementById('quiz-count');
        const $quizNum = document.getElementById('quiz-num');
        const $winOverlay = document.getElementById('win-overlay');

        // ----------------------------------------------------
        // 3. ëœë¤ ë¯¸ë¡œ ìƒì„± ë¡œì§ (ì¬ê·€ì  ë°±íŠ¸ë˜í‚¹)
        // ----------------------------------------------------
        function createMaze() {
            // ì´ˆê¸° ë¯¸ë¡œ: 1(ë²½)ë¡œ ê°€ë“ ì±„ì›€
            MAZE = Array(SIZE).fill(0).map(() => Array(SIZE).fill(1));
            
            const directions = [[0, 2], [0, -2], [2, 0], [-2, 0]]; // ìƒí•˜ì¢Œìš° ë‘ ì¹¸ ì´ë™ (ê¸¸ì„ ëš«ê¸° ìœ„í•´)

            function shuffle(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
            }

            function carvePath(r, c) {
                MAZE[r][c] = 0; // í˜„ì¬ ì¹¸ì„ ê¸¸ë¡œ ë§Œë“¦
                
                let shuffledDirections = [...directions];
                shuffle(shuffledDirections);

                for (const [dr, dc] of shuffledDirections) {
                    const nextR = r + dr;
                    const nextC = c + dc;
                    const wallR = r + dr / 2;
                    const wallC = c + dc / 2;

                    if (nextR >= 0 && nextR < SIZE && nextC >= 0 && nextC < SIZE && MAZE[nextR][nextC] === 1) {
                        MAZE[wallR][wallC] = 0; // ì¤‘ê°„ì˜ ë²½ì„ ê¸¸ë¡œ ë§Œë“¦
                        carvePath(nextR, nextC);
                    }
                }
            }
            
            // ë¯¸ë¡œ ìƒì„± ì‹œì‘ì ì€ (0, 0)
            carvePath(0, 0);

            // ì‹œì‘ì (2)ê³¼ ë„ì°©ì (3) ì„¤ì •
            MAZE[0][0] = 2; // ì‹œì‘ (0,0)
            MAZE[SIZE - 1][SIZE - 1] = 3; // ëª©ì ì§€ (4,4)
            
            // ë¯¸ë¡œ ì¤‘ê°„ì— ê½ƒ ì¥ì‹ ì¹¸ ì¶”ê°€ (ì„ íƒì )
            // ê¸¸(0)ì´ì—ˆë˜ ì¹¸ ì¤‘ ì¼ë¶€ë¥¼ ì¥ì‹ ì¹¸(4)ìœ¼ë¡œ ë³€ê²½
            if (MAZE[1][1] === 0) MAZE[1][1] = 4;
            if (MAZE[3][3] === 0) MAZE[3][3] = 4;
            if (MAZE[1][3] === 0) MAZE[1][3] = 4;
        }

        // ----------------------------------------------------
        // 4. ê²Œì„ ì´ˆê¸°í™” ë° ê·¸ë¦¬ê¸°
        // ----------------------------------------------------
        function drawMaze() {
            $grid.innerHTML = '';
            for (let r = 0; r < SIZE; r++) {
                for (let c = 0; c < SIZE; c++) {
                    const cell = document.createElement('div');
                    cell.classList.add('cell');
                    cell.id = `cell-${r}-${c}`;

                    const cellType = MAZE[r][c];
                    if (cellType === 0) cell.classList.add('path');
                    else if (cellType === 1) cell.classList.add('wall');
                    else if (cellType === 2) cell.classList.add('start'); 
                    else if (cellType === 3) { // ëª©ì ì§€ (í• ë¨¸ë‹ˆ)
                        cell.classList.add('goal');
                        cell.innerHTML = 'ğŸ‘µğŸ»'; 
                    }
                    else if (cellType === 4) { // ê½ƒì´ í”¼ì–´ìˆëŠ” ì¹¸ (ì¥ì‹)
                        cell.classList.add('path'); // ê¸¸ì˜ ì¼ì¢…
                        cell.innerHTML = 'ğŸŒ·'; 
                    }

                    $grid.appendChild(cell);
                }
            }
            drawPlayer();
            updateQuizCount();
        }

        function drawPlayer() {
            // ì´ì „ ìœ„ì¹˜ì˜ ì†Œë…€ ì§€ìš°ê¸° ë° 'ì§€ë‚˜ì˜¨ ê¸¸' í‘œì‹œ
            const prevPlayerCell = document.querySelector('.player');
            if (prevPlayerCell) {
                const prevR = parseInt(prevPlayerCell.id.split('-')[1]);
                const prevC = parseInt(prevPlayerCell.id.split('-')[2]);
                const prevType = MAZE[prevR][prevC];

                // ì´ì „ ì¹¸ ë‚´ìš© ë³µì›
                prevPlayerCell.innerHTML = (prevType === 3 ? 'ğŸ‘µğŸ»' : (prevType === 4 ? 'ğŸŒ·' : ''));
                prevPlayerCell.classList.remove('player');
                
                // ê¸¸ì´ì—ˆë˜ ì¹¸ì€ 'ì§€ë‚˜ì˜¨ ê¸¸'ë¡œ í‘œì‹œ
                if (prevType === 0 || prevType === 4) {
                    prevPlayerCell.classList.add('visited');
                    prevPlayerCell.classList.remove('path');
                }
            }

            // ìƒˆ ìœ„ì¹˜ì— ì†Œë…€ ê·¸ë¦¬ê¸°
            const currentCell = document.getElementById(`cell-${playerPos.row}-${playerPos.col}`);
            if (currentCell) {
                currentCell.classList.add('player');
                currentCell.innerHTML = 'ğŸ‘§ğŸ»ğŸ’'; // ê½ƒì„ ë“  ì†Œë…€
                currentCell.classList.remove('visited'); // í˜„ì¬ ì¹¸ì€ ì§€ë‚˜ì˜¨ ê¸¸ì´ ì•„ë‹˜
            }
        }

        function updateQuizCount() {
            const nextQuizNumber = quizIndexCounter + 1;
            // í€´ì¦ˆ ìˆ˜ê°€ 20ê°œë¥¼ ë„˜ì–´ê°€ë©´ 20ìœ¼ë¡œ ê³ ì • í‘œì‹œ
            $quizCount.textContent = `${nextQuizNumber > quizzes.length ? quizzes.length : nextQuizNumber}`; 
        }

        // ----------------------------------------------------
        // 5. ì›€ì§ì„ ë° í€´ì¦ˆ ê´€ë ¨ ë¡œì§
        // ----------------------------------------------------
        function tryMove(dr, dc) {
            if ($quizOverlay.style.display === 'flex') return; // í€´ì¦ˆ í’€ê³  ìˆì„ ë•ŒëŠ” ì›€ì§ì„ ê¸ˆì§€

            const newRow = playerPos.row + dr;
            const newCol = playerPos.col + dc;

            // 1. ë¯¸ë¡œ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ê±°ë‚˜ ë²½ì¸ì§€ í™•ì¸
            if (newRow < 0 || newRow >= SIZE || newCol < 0 || newCol >= SIZE || MAZE[newRow][newCol] === 1) return;
            
            // 2. ì›€ì§ì„ ì—†ìŒ (ì œìë¦¬ ì…ë ¥)
            if (newRow === playerPos.row && newCol === playerPos.col) return;

            const nextCellType = MAZE[newRow][newCol];
            const nextCell = document.getElementById(`cell-${newRow}-${newCol}`);

            // 3. ìµœì¢… ëª©ì ì§€ ë„ì°© (í€´ì¦ˆì™€ ìƒê´€ì—†ì´ í´ë¦¬ì–´!)
            if (nextCellType === 3) {
                executeMove(newRow, newCol);
                return;
            }

            // 4. ìƒˆë¡œìš´ ê¸¸ ì§„ì… ì‹œ í€´ì¦ˆ ì œì‹œ
            // (ê¸¸ íƒ€ì… 0, 4) ì´ë©´ì„œ (ë°©ë¬¸í•œ ì ì´ ì—†ëŠ” ì¹¸) ì´ë©´ì„œ (ë‚¨ì€ í€´ì¦ˆê°€ ìˆì„ ë•Œ)
            if ((nextCellType === 0 || nextCellType === 4) && !nextCell.classList.contains('visited') && quizIndexCounter < quizzes.length) {
                
                pendingMove = { row: newRow, col: newCol }; // ì´ë™ ì •ë³´ ì €ì¥
                showQuiz(quizzes[quizIndexCounter].q, quizIndexCounter + 1);
                return; // í€´ì¦ˆë¥¼ í’€ê¸° ì „ê¹Œì§€ëŠ” ì´ë™í•˜ì§€ ì•ŠìŒ
            }
            
            // 5. ì´ë¯¸ ì§€ë‚˜ì˜¨ ê¸¸ë¡œ ëŒì•„ê°€ê±°ë‚˜, ëª¨ë“  í€´ì¦ˆë¥¼ ë‹¤ í’€ì—ˆê±°ë‚˜, ì‹œì‘ ì¹¸ìœ¼ë¡œ ì´ë™í•  ë•Œ (í€´ì¦ˆ ì—†ì´ ì´ë™ í—ˆìš©)
            executeMove(newRow, newCol);
        }

        function executeMove(newRow, newCol) {
            playerPos = { row: newRow, col: newCol };
            drawPlayer();

            const nextCellType = MAZE[newRow][newCol];

            // ëª©ì ì§€ì— ë„ì°©í–ˆëŠ”ì§€ í™•ì¸
            if (nextCellType === 3) {
                $winOverlay.style.display = 'flex'; // ìŠ¹ë¦¬ ì°½ í‘œì‹œ
            }
        }


        function showQuiz(question, number) {
            $quizNum.textContent = number;
            $quizText.textContent = question;
            $quizStatus.textContent = '';
            $quizOverlay.style.display = 'flex';
        }

        // í€´ì¦ˆ ì •ë‹µ í™•ì¸ í•¨ìˆ˜
        function checkAnswer(userAnswer) {
            const correct = quizzes[quizIndexCounter].a;

            if (userAnswer === correct) {
                // ì •ë‹µ!
                $quizStatus.textContent = 'ğŸ‰ ì •ë‹µì…ë‹ˆë‹¤! ë‹¤ìŒ ê¸¸ë¡œ ê°ˆ ìˆ˜ ìˆê²Œ ë˜ì—ˆì–´ìš”.';
                $quizStatus.style.color = '#388e3c';
                
                // í€´ì¦ˆ ì¹´ìš´í„° ì¦ê°€ (í€´ì¦ˆë¥¼ ë§í ë•Œë§Œ ì¦ê°€)
                quizIndexCounter++;
                updateQuizCount();

                // ì €ì¥í•´ ë‘” ì´ë™ ì‹¤í–‰
                if (pendingMove) {
                    setTimeout(() => {
                        $quizOverlay.style.display = 'none';
                        executeMove(pendingMove.row, pendingMove.col);
                        pendingMove = null;
                    }, 800);
                }
            } else {
                // ì˜¤ë‹µ! (ë¬¸ì œë¥¼ ë‹¤ì‹œ í’€ê²Œ í•¨)
                $quizStatus.textContent = 'ğŸ¤” ì•„ì‰½ì§€ë§Œ í‹€ë ¸ì–´ìš”. ë‹¤ì‹œ í•œë²ˆ ìƒê°í•´ì„œ í’€ì–´ë³´ì„¸ìš”!';
                $quizStatus.style.color = 'red';
            }
        }
        
        // ----------------------------------------------------
        // 6. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë° ê²Œì„ ì‹œì‘/ë¦¬ì…‹
        // ----------------------------------------------------
        document.addEventListener('keydown', (e) => {
            // í€´ì¦ˆ ì°½ì´ ì—´ë ¤ ìˆì„ ë•Œ O/X ì…ë ¥ ì²˜ë¦¬
            if ($quizOverlay.style.display === 'flex') {
                if (e.key.toUpperCase() === 'O') checkAnswer('O');
                if (e.key.toUpperCase() === 'X') checkAnswer('X');
                return;
            }

            // í€´ì¦ˆ ì°½ì´ ë‹«í˜€ ìˆì„ ë•Œ ì´ë™ ì…ë ¥ ì²˜ë¦¬
            switch (e.key) {
                case 'ArrowUp': tryMove(-1, 0); break;
                case 'ArrowDown': tryMove(1, 0); break;
                case 'ArrowLeft': tryMove(0, -1); break;
                case 'ArrowRight': tryMove(0, 1); break;
            }
        });
        
        // O/X ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        document.getElementById('btn-o').addEventListener('click', () => checkAnswer('O'));
        document.getElementById('btn-x').addEventListener('click', () => checkAnswer('X'));
        
        // ê²Œì„ ì´ˆê¸°í™” (ë¯¸ë¡œ ìƒì„± ë° ë³€ìˆ˜ ë¦¬ì…‹)
        function initGame() {
            createMaze();
            playerPos = { row: 0, col: 0 };
            quizIndexCounter = 0;
            $winOverlay.style.display = 'none';
            drawMaze();
        }

        // ê²Œì„ ë¦¬ì…‹ (ìƒˆë¡œìš´ ë¯¸ë¡œ ìƒì„±)
        function resetGame() {
            initGame();
        }

        // ì°½ì´ ë¡œë“œë  ë•Œ initGame ì‹¤í–‰ (body onloadì— ì„¤ì •ë¨)
    </script>

</body>
</html>
